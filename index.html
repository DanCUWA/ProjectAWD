<!DOCTYPE html>
<html lan="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <meta http-equiv = "refresh" content = "2; href = webGame_copy.html"> -->

    <title>The Missing Game</title>

    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <!-- Latest compiled JavaScript -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <!--Jquery-->
    <script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
    <!--Socket-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
    <script type="text/javascript" charset="utf-8">
        $(document.ready(function() { 
            var socket = io.connect('http://localhost:5000/index');
            socket.on('connect', function() {
                print("a new user has connected")
                socket.send('User connected!');
            });
        }))
    </script>
    <!-- <script type="text/javascript" src="//cdn.socket.io/4.4.1/socket.io.min.js"></script>
    <script>//Socket communcation for chat
        var socket;
                    $(document).ready(function(){
                        socket = io.connect('http://' + document.domain + ':' + location.port + '/chat');
                        socket.on('connect', function() {
                            socket.emit('User connected!', {});
                        });
                        // socket.on('status', function(data) {
                        //     $('#textmessage').val($('#textmessage').val() + '<' + data.msg + '>\n');
                        //     $('#textmessage').scrollTop($('#textmessage')[0].scrollHeight);
                        // });
                        socket.on('message', function(data) {
                            $('#textMessage').append($('<p>').text(data))
                            // $('#textMessage').val($('#textMessage').val() + data.msg + '\n');
                            // $('#textMessage').scrollTop($('#textMessage')[0].scrollHeight);
                        });
                        $('#insertText').keypress(function(e) {
                            var code = e.keyCode || e.which;
                            if (code == 13) {
                                text = $('#insertText').val();
                                $('#insertText').val('');
                                socket.emit('text', {msg: text});
                            }
                        });
                    });
                    function leave_room() {
                        socket.emit('left', {}, function() {
                            socket.disconnect();
        
                            // go back to the login page
                            window.location.href = "{{ url_for('index') }}";
                        });
                    }
        </script> -->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/mainPageStyle.css') }}">
</head>
<body>
    
    
    <div class="container-fluid" style="text-align: center;background-image: linear-gradient(225deg,rgb(63, 55, 71) 50%,rgb(38, 40, 43) 90%);  height: 5vh;">
        <div class="d-flex" style="padding-top: 0.5vh">
            <div class="col-sm-6"></div>
            <div class="col-sm-2">
            <!-- <input type="text" placeholder = "Username" class="form-control" > -->
            <!-- <input type="text"><button type="button">Login</button><button type="button">Sign Up</button> -->
            </div>
            <div class="col-sm-2">
                <!-- <input type="text" placeholder="Password" class="form-control" > -->
            </div>
            <div class="col-sm-1 hover">
                <input type="button" value="Login" class="form-control" onclick="document.location.href='/login';">
            </div>
            <div class="col-sm-1 hover">
                <input type="button" value="Sign up" class="form-control" onclick="document.location.href='/signup';">
            </div>
    
        </div>
    </div>

    <div id="midPage" class="container-fluid" >
        <div class="row" style="height:90vh">
            <div class="col-sm-4" style="background-color: rgb(116, 115, 126);">
                <div class="left_box" style="display: flex;">
                    <div id="main" style="margin-top: 40vh; text-align: left;width: 30px;">
                        <span style="font-size:30px;cursor:pointer;color: #d4d4d4;" onclick="toggleNav()">&#8692;</span>
                    </div>
                    <div class="stats_box">
                        <span id="username">{{current_user.username}}- template layout</span>
                        <div class="Character">
                            
                            <label>Health</label>
                            <label>Mana</label>
                        </div>
                        <div class="stats">
                            <Label>ATK</Label>
                            <Label>DEF</Label>
                            <Label>MAT</Label>
                            <Label>MDF</Label>
                            <Label>LUK</Label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-8 chatbox" style="background-color:rgb(68, 58, 68); color:white;">
                <div id="textBox" style=" width: 100%; padding: 50px; display: flex; height:93%; max-height: 85vh;">
                    <div id="textMessage" style=" text-align: left;word-wrap: break-word; overflow-y: auto; width: 100%;">

                    </div>
                </div>
                <div>
                    <form id="input">
                        <div class="inputMessageBox">
                            <textarea id="insertText" name="myInput" style="border-radius: 20px; width:100%;" placeholder="Type your message here..." autofocus></textarea>
                            <button class="buttonInsert" id="submitMessage" type="submit"><i class="bx bx-send buttonInsert" id="send"></i></button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid" style="text-align: center;background-image: linear-gradient(45deg,rgb(63, 55, 71) 50%,rgb(38, 40, 43) 90%); height: 5vh">
        <div style="padding-top: 1vh; color:white">@2023 Copyright</div>
    </div>

    <div id="mySidenav" class="sidenav hover">
        <div id="navChoices">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <a href="/rooms">Game Rooms</a>
            <a href='/stats/{{current_user.username}}'>Stats</a>
            <a href="/profile">Profile</a>
            <a href="/settings">Settings</a>
        </div>
        <a class="logout" href="{{ url_for('logout') }}"><i class="bx bx-log-out bx-md"></i></a>
    </div>    
    <script type="text/javascript" src="{{ url_for('static', filename='./js/mainPageJS.js') }}"></script>
</body>

</html>